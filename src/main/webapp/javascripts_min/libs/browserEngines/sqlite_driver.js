define([],function(){var e=function(){return this};return e.prototype.getSchemaStructure=function(e){var t="select * from sqlite_master where type IN ('table', 'view') and name != '__WebKitDatabaseInfoTable__' order by type,name",n=function(t){var n={},r=[];for(var i in t[0].RESULTS.COLUMNS)n[t[0].RESULTS.COLUMNS[i]]=i;for(var s in t[0].RESULTS.DATA){var o=t[0].RESULTS.DATA[s][n.sql],u=t[0].RESULTS.DATA[s][n.name],a=t[0].RESULTS.DATA[s][n.type],f={table_name:u,table_type:a,columns:[]};if(a=="table"){var l=/^[\s\S]*?\(([\s\S]*)\)$/.exec(o)[1].split(/,\s*/);for(var c in l){var h=l[c].replace(/(^\s*)|(\s*$)/,"").split(/\s+/);f.columns.push({name:h.shift(),type:h.join(" ")})}}r.push(f)}e.callback(r)};this.executeQuery({sql:t,success:n})},e.prototype.splitStatement=function(e,t){t||(t=";");var n=t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),r=e?e.split(new RegExp(n+"s*\r?(\n|$)")):[];return r},e})